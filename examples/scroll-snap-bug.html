<!DOCTYPE HTML>
<html>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <head>
        <script>
        var playing = true;
        var framecount = 0;
        function oscillateBarWidth() {
            var panels = document.getElementsByClassName("panel");
            framecount++;
            for (var i = 0; i < panels.length; ++i) {
                var framewidth = 10 * Math.sin(framecount * 2 * Math.PI / 100) + 50;
                panels[i].style.width = framewidth + "%";
            }
            if (playing)
                requestAnimationFrame(oscillateBarWidth);
        }

        function runTest() {
            oscillateBarWidth();

            let toggle = document.getElementById("toggle");
            let toggleImage = toggle.querySelector("img");
            toggle.addEventListener("click", () => {
                toggleImage.src = playing ? "images/play.jpg" : "images/pause.jpg";
                playing = !playing;

                if (playing)
                    oscillateBarWidth();
            });
        }
        </script>
        <style>
        body {
            margin: 0;
            overflow-x: hidden;
            overflow-y: scroll;
        }

        :root {
            scroll-snap-type: y mandatory;
        }

        body, html {
            width: 100%;
            height: 100%;
        }

        .panel {
            height: 100vh;
            width: 50%;
            scroll-snap-align: start;
            font-family: system-ui;
            font-size: 50px;
            line-height: 100vh;
            color: white;
            text-align: center;
        }

        #toggle {
            position: fixed;
            top: 1em;
            right: 20px;
            width: 32px;
            height: 32px;
        }

        #toggle > img {
            width: 100%;
            height: 100%;
        }
        </style>
    </head>
    <body onload="runTest()">
        <div style="background-color: rgb(0, 122, 255);" class="panel">0</div>
        <div style="background-color: rgb(52, 199, 89);" class="panel">1</div>
        <div style="background-color: rgb(88, 86, 214);" class="panel">2</div>
        <div style="background-color: rgb(255, 149, 0);" class="panel">3</div>
        <div style="background-color: rgb(175, 82, 222);" class="panel">4</div>
        <div style="background-color: rgb(255, 59, 48);" class="panel">5</div>
        <div style="background-color: rgb(0, 122, 255);" class="panel">6</div>
        <div style="background-color: rgb(52, 199, 89);" class="panel">7</div>
        <div style="background-color: rgb(88, 86, 214);" class="panel">8</div>
        <div style="background-color: rgb(255, 149, 0);" class="panel">9</div>
        <div id="toggle" class="paused">
            <img src="images/pause.jpg">
        </div>
    </body>
</html>

